{
  "timestamp": "2026-01-30T10:24:07.486475",
  "total_suites": 4,
  "passed_suites": 4,
  "failed_suites": 0,
  "total_duration": 7.56417441368103,
  "results": [
    {
      "name": "Comprehensive CRUD Tests (All Roles & Endpoints)",
      "file": "test_comprehensive_crud.py",
      "success": true,
      "duration": 3.7392659187316895,
      "stdout": "\ud83d\ude80 COMPREHENSIVE CRUD TEST SUITE\n============================================================\nTesting all CRUD operations for Admin, Manager, and Officer roles\nValidating complete system integration with frontend\n============================================================\n\ud83d\udd10 SETTING UP AUTHENTICATION\n----------------------------------------\n\u2705 Authentication - Administrator\n\u2705 Authentication - Collections Manager\n\u2705 Authentication - Collections Officer\n\n\ud83d\udc65 TESTING USERS CRUD\n----------------------------------------\n\u274c Users CREATE (Admin): Failed to create user\n\n\ud83d\udc64 TESTING CONSUMERS CRUD\n----------------------------------------\n\u2705 Consumers CREATE (Admin)\n\u2705 Consumers READ List (Admin)\n\u2705 Consumers READ Single (Admin)\n\u2705 Consumers UPDATE (Admin)\n\u2705 Consumer Location Verify (Admin)\n\u2705 Consumer Accounts (Admin)\n\u2705 Consumers CREATE (Manager)\n\u2705 Consumers READ List (Manager)\n\u2705 Consumers READ Single (Manager)\n\u2705 Consumers UPDATE (Manager)\n\u2705 Consumer Location Verify (Manager)\n\u2705 Consumer Accounts (Manager)\n\u2705 Consumers CREATE (Officer)\n\u2705 Consumers READ List (Officer)\n\u2705 Consumers READ Single (Officer)\n\u2705 Consumers UPDATE (Officer)\n\u2705 Consumer Location Verify (Officer)\n\u2705 Consumer Accounts (Officer)\n\n\ud83d\udcb3 TESTING ACCOUNTS CRUD\n----------------------------------------\n\u2705 Accounts READ List (Admin)\n\u2705 Accounts READ Single (Admin)\n\u2705 Accounts UPDATE (Admin)\n\u2705 Account Assignment (Admin)\n\u2705 Account Payments (Admin)\n\u2705 Accounts READ List (Manager)\n\u2705 Accounts READ Single (Manager)\n\u2705 Accounts UPDATE (Manager)\n\u2705 Account Assignment (Manager)\n\u2705 Account Payments (Manager)\n\u2705 Accounts READ List (Officer)\n\u2705 Accounts READ Single (Officer)\n\u2705 Accounts UPDATE (Officer)\n\u2705 Account Payments (Officer)\n\n\ud83d\udcb0 TESTING PAYMENTS CRUD\n----------------------------------------\n\u2705 Payments CREATE (Admin)\n\u2705 Payments READ List (Admin)\n\u2705 Payments CREATE (Manager)\n\u2705 Payments READ List (Manager)\n\u2705 Payments CREATE (Officer)\n\u2705 Payments READ List (Officer)\n\n\ud83d\udcc5 TESTING PAYMENT SCHEDULES CRUD\n----------------------------------------\n\u2705 Payment Schedules CREATE (Admin)\n\u2705 Payment Schedules READ (Admin)\n\u2705 Payment Schedules CREATE (Manager)\n\u2705 Payment Schedules READ (Manager)\n\u2705 Payment Schedules CREATE (Officer)\n\u2705 Payment Schedules READ (Officer)\n\n\ud83e\udd1d TESTING SETTLEMENTS CRUD\n----------------------------------------\n\u2705 Settlements CREATE (Admin)\n\u2705 Settlement Approval (Admin)\n\u2705 Settlements READ (Admin)\n\u2705 Settlements CREATE (Manager)\n\u2705 Settlement Approval (Manager)\n\u2705 Settlements READ (Manager)\n\u2705 Settlements CREATE (Officer)\n\u2705 Settlements READ (Officer)\n\n\ud83d\udccb TESTING AR EVENTS CRUD\n----------------------------------------\n\u2705 AR Events CREATE (Admin)\n\u2705 AR Events READ (Admin)\n\u2705 AR Events CREATE (Manager)\n\u2705 AR Events READ (Manager)\n\u2705 AR Events CREATE (Officer)\n\u2705 AR Events READ (Officer)\n\n\ud83d\udce6 TESTING BATCH JOBS CRUD\n----------------------------------------\n\u2705 Batch Jobs CREATE (Admin)\n\u2705 Batch Jobs READ (Admin)\n\u2705 Batch Jobs CREATE (Manager)\n\u2705 Batch Jobs READ (Manager)\n\n\ud83c\udff7\ufe0f TESTING TAGS CRUD\n----------------------------------------\n\u2705 Tags CREATE (Admin)\n\u2705 Tag Assignment (Admin)\n\u2705 Tags READ (Admin)\n\u2705 Tags CREATE (Manager)\n\u2705 Tag Assignment (Manager)\n\u2705 Tags READ (Manager)\n\u2705 Tags CREATE (Officer)\n\u2705 Tag Assignment (Officer)\n\u2705 Tags READ (Officer)\n\n\u2699\ufe0f TESTING JOBS CRUD\n----------------------------------------\n\u2705 Jobs READ (Admin)\n\u2705 Job Execution (Admin)\n\u2705 Jobs READ (Manager)\n\u2705 Job Execution (Manager)\n\n\ud83d\udcca TESTING UDD CRUD\n----------------------------------------\n\u2705 UDD Table CREATE (Admin)\n\u2705 UDD Record CREATE (Admin)\n\u2705 UDD Records READ (Admin)\n\u2705 UDD Tables READ (Admin)\n\u274c UDD Table CREATE (Manager): Failed to create UDD table\n\u2705 UDD Tables READ (Manager)\n\n\ud83c\udfe2 TESTING CREDITORS CRUD\n----------------------------------------\n\u2705 Creditors CREATE (Admin)\n\u2705 Creditors READ (Admin)\n\u2705 Creditors CREATE (Manager)\n\u2705 Creditors READ (Manager)\n\n\ud83d\udc6e TESTING OFFICER MANAGEMENT\n----------------------------------------\n\u2705 Officers READ (Admin)\n\u2705 Officer Region Assignment (Admin)\n\u2705 Officers READ (Manager)\n\u2705 Officer Region Assignment (Manager)\n\n\ud83d\udcca TESTING REPORTS & DASHBOARD\n----------------------------------------\n\u2705 Dashboard (Admin)\n\u2705 Collections Report (Admin)\n\u2705 Aging Report (Admin)\n\u2705 Dashboard (Manager)\n\u2705 Collections Report (Manager)\n\u2705 Aging Report (Manager)\n\u2705 Dashboard (Officer)\n\u2705 Collections Report (Officer)\n\u2705 Aging Report (Officer)\n\n\ud83d\uddfa\ufe0f TESTING GEO FEATURES\n----------------------------------------\n\u2705 Consumer Heatmap (Admin)\n\u2705 Consumer Heatmap (Manager)\n\u2705 Consumer Heatmap (Officer)\n\n\ud83c\udf0d TESTING REGIONS\n----------------------------------------\n\u2705 Regions READ (Admin)\n\u2705 Regions READ (Manager)\n\u2705 Regions READ (Officer)\n\n============================================================\nTEST SUMMARY: 106/108 passed\n\nFAILED TESTS:\n  - Users CREATE (Admin): Failed to create user\n  - UDD Table CREATE (Manager): Failed to create UDD table\n============================================================\n\n\ud83c\udfaf COMPREHENSIVE TEST RESULTS:\n   \u2705 All major CRUD operations tested\n   \u2705 All user roles (Admin, Manager, Officer) validated\n   \u2705 Frontend-backend integration verified\n   \u2705 Role-based permissions tested\n   \u2705 Kenyan-specific features validated\n\n\u26a0\ufe0f 2 tests failed. Review the errors above.\n",
      "stderr": "",
      "return_code": 0
    },
    {
      "name": "Frontend-Backend Integration Tests",
      "file": "test_frontend_integration.py",
      "success": true,
      "duration": 2.3163394927978516,
      "stdout": "\ud83c\udf10 FRONTEND-BACKEND INTEGRATION TEST SUITE\n============================================================\nTesting all frontend API integrations with Flask backend\nValidating data structures and response formats\n============================================================\n\ud83d\udd10 AUTHENTICATING ALL USER ROLES\n--------------------------------------------------\n\u2705 Authentication - Administrator\n\u2705 Authentication - Collections Manager\n\u2705 Authentication - Collections Officer\n\n\ud83d\udcca TESTING DASHBOARD APIs\n--------------------------------------------------\n\u2705 Dashboard API Structure (Admin)\n\u2705 Dashboard API Structure (Manager)\n\u2705 Dashboard API Structure (Officer)\n\n\ud83d\udc64 TESTING CONSUMER MANAGEMENT APIs\n--------------------------------------------------\n\u2705 Consumer Pagination API (Admin)\n\u2705 Consumer Search API (Admin)\n\u2705 Consumer Creation API (Admin)\n\u2705 Consumer Detail API (Admin)\n\u2705 Consumer Update API (Admin)\n\u2705 Consumer Pagination API (Manager)\n\u2705 Consumer Search API (Manager)\n\u2705 Consumer Creation API (Manager)\n\u2705 Consumer Detail API (Manager)\n\u2705 Consumer Update API (Manager)\n\u2705 Consumer Pagination API (Officer)\n\u2705 Consumer Search API (Officer)\n\u2705 Consumer Creation API (Officer)\n\u2705 Consumer Detail API (Officer)\n\u2705 Consumer Update API (Officer)\n\n\ud83d\udcb3 TESTING ACCOUNT MANAGEMENT APIs\n--------------------------------------------------\n\u2705 Account List API (Admin)\n\u2705 Account Detail API (Admin)\n\u2705 Account Payments API (Admin)\n\u2705 Account List API (Manager)\n\u2705 Account Detail API (Manager)\n\u2705 Account Payments API (Manager)\n\u2705 Account List API (Officer)\n\u2705 Account Detail API (Officer)\n\u2705 Account Payments API (Officer)\n\n\ud83d\udcb0 TESTING PAYMENT PROCESSING APIs\n--------------------------------------------------\n\u2705 Payment Creation API (Admin)\n\u2705 Payment List API (Admin)\n\u2705 Payment Creation API (Manager)\n\u2705 Payment List API (Manager)\n\u2705 Payment Creation API (Officer)\n\u2705 Payment List API (Officer)\n\n\ud83e\udd1d TESTING SETTLEMENT APIs\n--------------------------------------------------\n\u2705 Settlement Creation API (Admin)\n\u2705 Settlement Approval API (Admin)\n\u2705 Settlement List API (Admin)\n\u2705 Settlement Creation API (Manager)\n\u2705 Settlement Approval API (Manager)\n\u2705 Settlement List API (Manager)\n\u2705 Settlement Creation API (Officer)\n\u2705 Settlement List API (Officer)\n\n\ud83d\uddfa\ufe0f TESTING GEO-MAPPING APIs\n--------------------------------------------------\n\u2705 Heatmap API (Admin)\n\u2705 Heatmap Data Structure (Admin)\n\u2705 Heatmap API (Manager)\n\u2705 Heatmap Data Structure (Manager)\n\u2705 Heatmap API (Officer)\n\u2705 Heatmap Data Structure (Officer)\n\n\ud83d\udcc8 TESTING REPORTING APIs\n--------------------------------------------------\n\u2705 Collections Report API (Admin)\n\u2705 Aging Report API (Admin)\n\u2705 Collections Report API (Manager)\n\u2705 Aging Report API (Manager)\n\u2705 Collections Report API (Officer)\n\u2705 Aging Report API (Officer)\n\n\ud83c\udff7\ufe0f TESTING TAG MANAGEMENT APIs\n--------------------------------------------------\n\u2705 Tag Creation API (Admin)\n\u2705 Tag Assignment API (Admin)\n\u2705 Tag List API (Admin)\n\u2705 Tag Creation API (Manager)\n\u2705 Tag Assignment API (Manager)\n\u2705 Tag List API (Manager)\n\u2705 Tag Creation API (Officer)\n\u2705 Tag Assignment API (Officer)\n\u2705 Tag List API (Officer)\n\n\ud83d\udc65 TESTING USER MANAGEMENT APIs\n--------------------------------------------------\n\u2705 User List API (Admin)\n\u274c User Creation API (Admin): Failed to create user\n\n\ud83d\udc6e TESTING OFFICER MANAGEMENT APIs\n--------------------------------------------------\n\u2705 Officer List API (Admin)\n\u2705 Officer Region Assignment API (Admin)\n\u2705 Officer List API (Manager)\n\u2705 Officer Region Assignment API (Manager)\n\n\ud83c\udf0d TESTING REGIONS APIs\n--------------------------------------------------\n\u2705 Regions API (Admin)\n\u2705 Region Data Structure (Admin)\n\u2705 Regions API (Manager)\n\u2705 Region Data Structure (Manager)\n\u2705 Regions API (Officer)\n\u2705 Region Data Structure (Officer)\n\n============================================================\nFRONTEND INTEGRATION TEST RESULTS: 76/77 passed\n\nFAILED TESTS:\n  - User Creation API (Admin): Failed to create user\n============================================================\n\n\ud83c\udfaf FRONTEND INTEGRATION SUMMARY:\n   \u2705 All frontend API endpoints tested\n   \u2705 Data structure validation completed\n   \u2705 Role-based access control verified\n   \u2705 Pagination and search functionality tested\n   \u2705 CRUD operations validated for frontend forms\n\n\u26a0\ufe0f 1 integration tests failed.\n   Review the errors above for frontend-backend compatibility issues\n",
      "stderr": "",
      "return_code": 0
    },
    {
      "name": "System Functionality Tests",
      "file": "test_system.py",
      "success": true,
      "duration": 0.8981354236602783,
      "stdout": "\ud83d\ude80 Starting Full System Functionality Test\n==================================================\n\ud83d\udd10 Testing Authentication...\n\u2705 Login successful\n\n\ud83d\udc65 Testing User Management...\n\u2705 Retrieved 14 users\n\u274c Failed to create user\n\n\ud83d\uddfa\ufe0f Testing Regions...\n\u2705 Retrieved 5 regions\n\n\ud83d\udc64 Testing Consumer Management...\n\u2705 Retrieved 42 consumers\n\u2705 Consumer created successfully\n\u2705 Location verified successfully\n\n\ud83d\udcb3 Testing Account Management...\n\u2705 Retrieved 50 accounts\n\u2705 Account assigned successfully\n\n\ud83d\udcb0 Testing Payment Processing...\n\u2705 Payment created successfully\n\n\ud83c\udff7\ufe0f Testing Tag Management...\n\u2705 Retrieved 24 tags\n\u2705 Tag created successfully\n\u2705 Tag assigned successfully\n\n\u2699\ufe0f Testing Job Management...\n\u2705 Retrieved 3 jobs\n\u2705 Job executed successfully\n\n\ud83d\udcca Testing User-Defined Data...\n\u2705 Retrieved 5 UDD tables\n\u274c Failed to create UDD table\n\n\ud83d\uddfa\ufe0f Testing Geo Mapping...\n\u2705 Retrieved heatmap data for 37 consumers\n\n\ud83d\udcca Testing Dashboard...\n\u2705 Dashboard data retrieved - 80 accounts, KSh 15,399,982.20 total balance\n\n==================================================\n\ud83d\udcca Test Results: 9 passed, 2 failed\n\u26a0\ufe0f Some tests failed. Check the backend server.\n",
      "stderr": "",
      "return_code": 0
    },
    {
      "name": "Frontend API Compatibility Tests",
      "file": "test_frontend_api.py",
      "success": true,
      "duration": 0.6104335784912109,
      "stdout": "============================================================\n\ud83e\uddea FRONTEND API INTEGRATION TEST\n============================================================\n\n\ud83d\udccb TESTING LOGIN API\n----------------------------------------\n\u2705 Login successful - Token received\n   User: admin\n   Role: administrator\n\n\ud83d\udccb TESTING DASHBOARD API\n----------------------------------------\n\u2705 Dashboard API working\n   Total Accounts: 80\n   Total Balance: KES 15,399,982.20\n   Active Accounts: 50\n\n\ud83d\udccb TESTING CONSUMERS API\n----------------------------------------\n\u2705 Consumers API working\n   Retrieved 10 consumers\n   Total consumers: 43\n   Sample: James Ochieng\n\n\ud83d\udccb TESTING ACCOUNTS API\n----------------------------------------\n\u2705 Accounts API working\n   Retrieved 10 accounts\n   Total accounts: 80\n   Sample: 003-752983 - KES 150,412.97\n\n\ud83d\udccb TESTING REGIONS API\n----------------------------------------\n\u2705 Regions API working\n   Retrieved 5 regions\n   - Nairobi Metropolitan (NRB)\n   - Central Kenya (CEN)\n   - Coast Region (CST)\n\n\ud83d\udccb TESTING HEATMAP API\n----------------------------------------\n\u2705 Heatmap API working\n   Retrieved 37 location points\n   Verified locations: 25\n   Unverified locations: 12\n\n\ud83d\udccb TESTING PAYMENT API\n----------------------------------------\n\u2705 Payment API working\n   Payment ID: 1f9ed8d9-a3bb-4b06-ad8d-dc34a972a5b6\n   Amount: KES 1,000.00\n   Method: mpesa\n\n============================================================\n\u2705 FRONTEND API INTEGRATION TESTS COMPLETED\n============================================================\n\n\ud83d\udcca SUMMARY:\n   \u2705 All major API endpoints are working\n   \u2705 Authentication is properly implemented\n   \u2705 Data is being returned in correct format\n   \u2705 Frontend can successfully connect to backend\n   \u2705 Role-based authentication is working\n   \u2705 Kenyan-specific features (M-Pesa, regions) are available\n",
      "stderr": "",
      "return_code": 0
    }
  ]
}